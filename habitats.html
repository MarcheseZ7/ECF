<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoo - Habitats</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styles/habitats.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>

    <!-- En-tête -->
    <header>
        <div class="header-container">
            <div class="header-content">
                <h1>Habitats des Animaux</h1>
            </div>
            <a href="connexion.html" class="button-top-right login-button">
                Se connecter
            </a>
        </div>
    </header>

    <!-- Navigation -->
    <nav>
        <!-- Bouton avec le logo -->
        <a href="index.html" class="fixed-button">
            <img src="images/logo-zoo.png" alt="Logo" class="button-logo">
        </a>
        <a href="services.html">Services</a>
        <a href="contact.html">Contact</a>
    </nav>

    <!-- Contenu principal -->
    <main>
        <!-- Section Habitat -->
        <section class="habitat">
            <h2>Savane africaine</h2>
            <div class="habitat-description">
                <img src="images/savane.jpg" alt="Savane africaine">
                <p>
                    La savane africaine est un vaste espace ouvert caractérisé par des herbes hautes, des arbres épars
                    et un climat chaud. Cet habitat est conçu pour offrir aux animaux un environnement semblable à leur
                    milieu naturel.
                </p>
            </div>
            <h3>Animaux de la savane</h3>
            <ul class="animals-list">
                <li>
                    <img src="images/lion.jpg" alt="Lion">
                    <p><strong>Nom :</strong> Simba</p>
                    <p><strong>Espèce :</strong> Lion d'Afrique</p>
                    <button class="details-button" data-animal="simba" onclick="openModal('simba')">Détails</button>
                </li>
                <li>
                    <img src="images/gazelle.jpg" alt="Gazelle">
                    <p><strong>Nom :</strong> Nyala</p>
                    <p><strong>Espèce :</strong> Gazelle Thomson</p>
                    <button class="details-button" data-animal="nyala" onclick="openModal('nyala')">Détails</button>
                </li>
                <li>
                    <img src="images/elephant.jpg" alt="Éléphant">
                    <p><strong>Nom :</strong> Dumbo</p>
                    <p><strong>Espèce :</strong> Éléphant d'Afrique</p>
                    <button class="details-button" data-animal="dumbo" onclick="openModal('dumbo')">Détails</button>
                </li>
            </ul>
        </section>

        <section class="habitat">
            <h2>Jungle amazonienne</h2>
            <div class="habitat-description">
                <img src="images/jungle.jpg" alt="Jungle amazonienne">
                <p>
                    La jungle amazonienne est dense et humide, regorgeant de biodiversité. Elle offre un refuge idéal
                    pour des espèces exotiques comme les jaguars et les aras.
                </p>
            </div>
            <h3>Animaux de la jungle</h3>
            <ul class="animals-list">
                <li>
                    <img src="images/jaguar.jpg" alt="Jaguar">
                    <p><strong>Nom :</strong> Shadow</p>
                    <p><strong>Espèce :</strong> Jaguar</p>
                    <button class="details-button" data-animal="shadow" onclick="openModal('shadow')">Détails</button>
                </li>
                <li>
                    <img src="images/ara.jpg" alt="Ara">
                    <p><strong>Nom :</strong> Ruby</p>
                    <p><strong>Espèce :</strong> Ara rouge</p>
                    <button class="details-button" data-animal="ruby" onclick="openModal('ruby')">Détails</button>
                </li>
                <li>
                    <img src="images/singe.jpg" alt="Singe">
                    <p><strong>Nom :</strong> Coco</p>
                    <p><strong>Espèce :</strong> Singe capucin</p>
                    <button class="details-button" data-animal="coco" onclick="openModal('coco')">Détails</button>
                </li>
            </ul>
        </section>
    </main>

    <!-- Modals -->
    <div class="overlay" id="overlay"></div>

    <!-- Modale Simba -->
    <div class="modal" id="modal-simba">
        <div class="modal-header">Simba - Lion d'Afrique</div>
        <div class="modal-body">
            <p><strong>État :</strong> En pleine santé</p>
            <p><strong>Nourriture :</strong> Viande crue 6Kg/j</p>
            <p><strong>Dernière visite vétérinaire :</strong>
                <input type="date" id="date-visite-simba" value="2024-10-01" disabled>
            </p>
            <p><strong>Remarque :</strong></p>
            <textarea placeholder="Ajouter un commentaire..." rows="4" id="remarque-simba" class="vet-edit"
                disabled>Très actif dans son habitat.</textarea>
        </div>
        <div class="modal-footer">
            <button class="close-modal" onclick="closeModal('simba')">Fermer</button>
            <button class="save-modal" id="save-simba" disabled>Valider</button>
        </div>
    </div>

    <!-- Modale Dumbo -->
    <div class="modal" id="modal-dumbo">
        <div class="modal-header">Dumbo - Éléphant d'Afrique</div>
        <div class="modal-body">
            <p><strong>État :</strong> En bonne santé</p>
            <p><strong>Nourriture :</strong> Fruits et végétaux 150Kg/jour</p>
            <p><strong>Dernière visite vétérinaire :</strong>
                <input type="date" id="date-visite-dumbo" value="2024-09-15" disabled>
            </p>
            <p><strong>Remarque :</strong></p>
            <textarea placeholder="Ajouter un commentaire..." rows="4" id="remarque-dumbo" class="vet-edit"
                disabled>Paisible et sociable avec les visiteurs.</textarea>
        </div>
        <div class="modal-footer">
            <button class="close-modal" onclick="closeModal('dumbo')">Fermer</button>
            <button class="save-modal" id="save-dumbo" disabled>Valider</button>
        </div>
    </div>

    <!-- Modale Nyala -->
    <div class="modal" id="modal-nyala">
        <div class="modal-header">Nyala - Gazelle Thomson</div>
        <div class="modal-body">
            <p><strong>État :</strong> En bonne forme physique</p>
            <p><strong>Nourriture :</strong> Herbe fraîche 2Kg/j</p>
            <p><strong>Dernière visite vétérinaire :</strong>
                <input type="date" id="date-visite-nyala" value="2024-09-10" disabled>
            </p>
            <p><strong>Remarque :</strong></p>
            <textarea placeholder="Ajouter un commentaire..." rows="4" id="remarque-nyala" class="vet-edit"
                disabled>Très rapide et nerveuse.</textarea>
        </div>
        <div class="modal-footer">
            <button class="close-modal" onclick="closeModal('nyala')">Fermer</button>
            <button class="save-modal" id="save-nyala" disabled>Valider</button>
        </div>
    </div>

    <!-- Modale Shadow -->
    <div class="modal" id="modal-shadow">
        <div class="modal-header">Shadow - Jaguar</div>
        <div class="modal-body">
            <p><strong>État :</strong> Actif et curieux</p>
            <p><strong>Nourriture :</strong> Viande et poissons 8Kg/j</p>
            <p><strong>Dernière visite vétérinaire :</strong>
                <input type="date" id="date-visite-shadow" value="2024-10-05" disabled>
            </p>
            <p><strong>Remarque :</strong></p>
            <textarea placeholder="Ajouter un commentaire..." rows="4" id="remarque-shadow" class="vet-edit"
                disabled>Très discret et solitaire.</textarea>
        </div>
        <div class="modal-footer">
            <button class="close-modal" onclick="closeModal('shadow')">Fermer</button>
            <button class="save-modal" id="save-shadow" disabled>Valider</button>
        </div>
    </div>

    <!-- Modale Ruby -->
    <div class="modal" id="modal-ruby">
        <div class="modal-header">Ruby - Ara rouge</div>
        <div class="modal-body">
            <p><strong>État :</strong> En excellente forme</p>
            <p><strong>Nourriture :</strong> Fruits et graines 1Kg/j</p>
            <p><strong>Dernière visite vétérinaire :</strong>
                <input type="date" id="date-visite-ruby" value="2024-07-12" disabled>
            </p>
            <p><strong>Remarque :</strong></p>
            <textarea placeholder="Ajouter un commentaire..." rows="4" id="remarque-ruby" class="vet-edit"
                disabled>Plutôt bruyant mais amical.</textarea>
        </div>
        <div class="modal-footer">
            <button class="close-modal" onclick="closeModal('ruby')">Fermer</button>
            <button class="save-modal" id="save-ruby" disabled>Valider</button>
        </div>
    </div>
    
    <!-- Modale Coco -->
    <div class="modal" id="modal-coco">
        <div class="modal-header">Coco - Singe capucin</div>
        <div class="modal-body">
            <p><strong>État :</strong> En excellente forme</p>
            <p><strong>Nourriture :</strong> Fruits et graines 1Kg/j</p>
            <p><strong>Dernière visite vétérinaire :</strong>
                <input type="date" id="date-visite-coco" value="2024-07-12" disabled>
            </p>
            <p><strong>Remarque :</strong></p>
            <textarea placeholder="Ajouter un commentaire..." rows="4" id="remarque-coco" class="vet-edit"
                disabled>Plutôt malin mais amical.</textarea>
        </div>
        <div class="modal-footer">
            <button class="close-modal" onclick="closeModal('coco')">Fermer</button>
            <button class="save-modal" id="save-coco" disabled>Valider</button>
        </div>
    </div>

    <script>
        // Simulation d'un rôle utilisateur (vétérinaire ou non)
        let isVet = true;  // Changez cette variable à 'true' pour simuler un vétérinaire

        function toggleEditFields(animalId) {
            if (isVet) {
                document.getElementById("date-visite-" + animalId).disabled = false;
                document.getElementById("remarque-" + animalId).disabled = false;
                document.getElementById("save-" + animalId).disabled = false;
            } else {
                document.getElementById("date-visite-" + animalId).disabled = true;
                document.getElementById("remarque-" + animalId).disabled = true;
                document.getElementById("save-" + animalId).disabled = true;
            }
        }

        function openModal(animalId) {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('modal-' + animalId).style.display = 'block';
            toggleEditFields(animalId);
        }

        function closeModal(animalId) {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('modal-' + animalId).style.display = 'none';
        }

        // Fonction pour sauvegarder les données
        function saveData(animalId) {
            // Récupérer les valeurs des champs
            const dateVisite = document.getElementById("date-visite-" + animalId).value;
            const remarque = document.getElementById("remarque-" + animalId).value;

            // Vous pouvez ici faire une requête AJAX pour envoyer les données au serveur ou afficher un message de confirmation
            console.log("Données sauvegardées pour " + animalId);
            console.log("Date de visite : " + dateVisite);
            console.log("Remarque : " + remarque);

            // Exemple : fermer la modale après avoir sauvegardé
            closeModal(animalId);

            // Afficher un message de confirmation
            alert("Les données ont été sauvegardées pour " + animalId);
        }

        // Ajouter un événement de clic sur chaque bouton "Valider"
        document.getElementById("save-simba")?.addEventListener("click", function () {
            saveData("simba");
        });
        document.getElementById("save-dumbo")?.addEventListener("click", function () {
            saveData("dumbo");
        });
        document.getElementById("save-nyala")?.addEventListener("click", function () {
            saveData("nyala");
        });
        document.getElementById("save-shadow")?.addEventListener("click", function () {
            saveData("shadow");
        });
        document.getElementById("save-ruby")?.addEventListener("click", function () {
            saveData("ruby");
        });
        document.getElementById("save-coco")?.addEventListener("click", function () {
            saveData("coco");
        });
    </script>

    <footer>
        <p>&copy; 2024 Zoo Services. Tous droits réservés.</p>
    </footer>
</body>

</html>
<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoo - Accueil</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styles/index.css">
    <link rel="icon" href="images/logo-zoo.png" type="image/png"> <!-- Ajout d'un favicon -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <header>
        <div class="header-container">
            <div class="header-content">
                <h1>Bienvenue au Zoo d'Arcadia !</h1>
                <p>Arcadia est un zoo situé en France près de la forêt de Brocéliande, en bretagne depuis 1960.
                    Ils possèdent tout un panel d’animaux, réparti par habitat (savane, jungle)</p>
            </div>
            <a href="connexion.html" class="button-top-right login-button">
                Se connecter
            </a>
        </div>
    </header>

    <nav>
        <a href="index.html" class="fixed-button">
            <img src="images/logo-zoo.png" alt="Logo" class="button-logo">
        </a>
        <a href="services.html">Services</a>
        <a href="habitats.html">Habitats</a>
        <a href="contact.html">Contact</a>
    </nav>

    <main>
        <!-- Section d'introduction -->
        <section class="introduction" id="introduction">
            <h2>À propos du Zoo</h2>
            <p>
                Notre zoo abrite une incroyable diversité d'animaux provenant des cinq continents. Il s'étend sur
                <strong>50 hectares</strong>, offrant aux visiteurs une immersion totale dans la faune mondiale.
            </p>
            <p>
                Vous pourrez y découvrir plus de <strong>200 espèces</strong> d'animaux, représentant un total de
                <strong>2 500 individus</strong>. Chaque zone du zoo reflète l'habitat naturel de ses habitants, pour
                une expérience unique et éducative.
            </p>
        </section>

        <!-- Section des chiffres clés -->
        <section class="stats">
            <h2>Quelques chiffres impressionnants</h2>
            <div class="animal-gallery">
                <div class="animal">
                    <img src="images/lion.jpg" alt="Lion">
                    <p><strong>15 Lions</strong></p>
                </div>
                <div class="animal">
                    <img src="images/elephant.jpg" alt="Éléphant">
                    <p><strong>10 Éléphants</strong></p>
                </div>
                <div class="animal">
                    <img src="images/ara rouge-zoo.jpg" alt="Ara rouge">
                    <p><strong>6 Ara rouge</strong></p>
                </div>
                <div class="animal">
                    <img src="images/tigre.jpg" alt="Tigre">
                    <p><strong>8 Tigres</strong></p>
                </div>
            </div>
        </section>

        <!-- Section expérience -->
        <section class="experience">
            <h2>Vivez l'Expérience au Zoo</h2>
            <p>
                Nos visiteurs profitent de parcours éducatifs, de spectacles interactifs, et d'activités de
                sensibilisation à la conservation. Le zoo collabore également avec des organisations mondiales pour
                protéger les espèces en voie d'extinction.
            </p>
            <div class="experience-container">
                <img src="images/zoo-overview.jpg" class="experience-img" alt="Expérience du Zoo">
            </div>
        </section>

        <!-- Section des avis des visiteurs -->
        <section class="avis">
            <h2>Avis des visiteurs</h2>
            <div class="avis-container" id="avis-container">
                <!-- Les avis validés s'afficheront ici -->
            </div>
        </section>

        <!--Formulaire pour poster un avis-->
        <section class="poster-avis">
            <h2>Laissez votre avis </h2>
            <p>Partagez votre expérience avec nous en laissant un commentaire</p>
            <form id="form-avis">
                <label for="pseudo">Votre Pseudo :</label>
                <input type="text" id="pseudo" name="pseudo" required>
                <label for="note">Votre note</label>
                <select name="note" id="note" required>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>

                <label for="avis">Votre Avis :</label>
                <textarea id="avis" name="avis" rows="5" required></textarea>

                <button type="submit">Envoyer votre avis</button>
            </form>
        </section>

        <!--Section pour l'employé afin de valider les avis-->
        <section class="validation-avis">
            <h2>Avis en attente de validation</h2>
            <div class="pending-avis-container" id="pending-avis-container">
                <!-- Les avis en attente de validation s'afficheront ici -->
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-container">
            <ul class="footer-links">
                <li><a href="contact.html">Nous contacter</a></li>
                <li><a href="politique-confidentialite.html">Politique de confidentialité</a></li>
                <li><a href="mentions-legales.html">Mentions légales</a></li>
            </ul>
            <p>&copy; 2024 Zoo Services. Tous droits réservés.</p>
        </div>
    </footer>

    <script>
        let avisValiders = [
            { pseudo: "Marie L.", note: 3, text: "Une expérience incroyable! Le zoo est très bien entretenu et les animaux semblent heureux. Je recommande vivement!", valider: true },
            { pseudo: "Jean D.",  note: 4, text: "Un endroit fascinant pour apprendre et découvrir des espèces rares. Mes enfants ont adoré les spectacles!", valider: true },
            { pseudo: "Sophie T.",  note: 5, text: "Le zoo fait un excellent travail pour la conservation des espèces. Une visite à ne pas manquer!", valider: true },
            { pseudo: "Julien B.",  note: 1, text: "Un lieu parfait pour toute la famille, les enfants adorent et nous avons appris beaucoup de choses!", valider: true }
        ]; // Avis existants validés

        function renderStar(note) {
            let htmlNote = '';

            for (let i = 1; i <= note; i++) {
                htmlNote += '<span class="star">★</span>';
            }

            for (let j = 1; j <= 5 - note; j++) {
                htmlNote += '<span class="star">☆</span>';
            }

            return htmlNote;
        }

        let avisEnAttente = []; // Tableau de stockage des avis en attente

        // Fonction pour afficher les avis validés
        function afficherAvisValiders() {
            const avisContainer = document.getElementById("avis-container");
            avisContainer.innerHTML = ""; // Vider le conteneur avant d'ajouter les avis

            // Affichage des avis validés
            avisValiders.forEach(avis => {
                const avisItem = document.createElement("div");
                avisItem.classList.add("avis-item");
                const stars = renderStar(avis.note);
                avisItem.innerHTML = `
                    <div class="avis-content">
                        <div class="avis-rating">
                            ${stars}
                        </div>
                        <p><strong>${avis.pseudo}</strong> : "${avis.text}"</p>
                    </div>
                `;
                avisContainer.appendChild(avisItem);
            });
        }

        // Fonction pour afficher les avis en attente de validation
        function afficherAvisEnAttente() {
            const pendingContainer = document.getElementById("pending-avis-container");
            pendingContainer.innerHTML = ""; // Vider le conteneur avant d'ajouter les avis

            // Affichage des avis en attente de validation
            avisEnAttente.forEach((avis, index) => {
                const avisItem = document.createElement("div");
                avisItem.classList.add("avis-item");
                const stars = renderStar(avis.note);
                avisItem.innerHTML = `
                    <div class="avis-content">
                        <div class="avis-rating">
                            ${stars}
                        </div>
                        <p><strong>${avis.pseudo}</strong> : "${avis.text}"</p>
                        <button onclick="validerAvis(${index})">Valider cet avis</button>
                    </div>
                `;
                pendingContainer.appendChild(avisItem);
            });
        }

        // Fonction pour valider un avis
        function validerAvis(index) {
            // Récupérer l'avis à valider
            const avis = avisEnAttente[index];

            // Marquer l'avis comme validé
            avis.valider = true;

            // Ajouter cet avis à la liste des avis validés
            avisValiders.push(avis);

            // Retirer l'avis de la liste des avis en attente
            avisEnAttente.splice(index, 1);

            // Mettre à jour l'affichage
            afficherAvisValiders();
            afficherAvisEnAttente();
        }

        // Ajouter un avis via le formulaire
        document.getElementById("form-avis").addEventListener("submit", function (event) {
            event.preventDefault();

            // Récupération des valeurs du formulaire
            const pseudo = document.getElementById("pseudo").value;
            const note = document.getElementById("note").value;
            const avisText = document.getElementById("avis").value;

            // Créer un nouvel avis et l'ajouter à la liste des avis en attente
            avisEnAttente.push({ pseudo, note, text: avisText, valider: false });

            // Réinitialiser le formulaire
            document.getElementById("form-avis").reset();

            // Mettre à jour l'affichage des avis en attente
            afficherAvisEnAttente();
        });

        // Initialisation : afficher les avis validés et en attente dès le chargement de la page
        afficherAvisValiders();
        afficherAvisEnAttente();
    </script>

</body>

</html>